<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARQV30 Enhanced v2.0 - Análise de Mercado com IA</title>
    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/components.css') }}">
    
    <link rel="preconnect" href="[https://fonts.googleapis.com](https://fonts.googleapis.com)">
    <link rel="preconnect" href="[https://fonts.gstatic.com](https://fonts.gstatic.com)" crossorigin>
    <link href="[https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap](https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap)" rel="stylesheet">
    <link rel="stylesheet" href="[https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css](https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css)">
    
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo ARQV30" class="logo-img">
                    <div class="logo-text">
                        <h1>ARQV30 Enhanced</h1>
                        <span class="version">v2.0 Robusto</span>
                    </div>
                </div>
                <div class="header-status">
                    <div class="status-indicator online" id="statusIndicator">
                        <i class="fas fa-circle"></i>
                        <span id="statusText">Sistema Online</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <section class="hero">
                <div class="hero-content">
                    <h2 class="hero-title">Motor de Análise de Mercado com IA</h2>
                    <p class="hero-subtitle">
                        Transforme dados brutos em estratégia de negócio. Potenciado por IA avançada e pesquisa web em tempo real.
                    </p>
                </div>
            </section>

            <section class="analysis-section">
                <div class="form-container">
                    <form id="analysisForm" class="analysis-form" onsubmit="event.preventDefault(); window.analysisManager.startAnalysis();">
                        <div class="form-group">
                            <h3 class="section-title"><i class="fas fa-info-circle"></i>Informações Essenciais</h3>
                            <div class="input-group">
                                <label for="segmento">Segmento de Mercado *</label>
                                <input type="text" id="segmento" name="segmento" required placeholder="Ex: Produtos Digitais, E-commerce, Consultoria de TI">
                            </div>
                            <div class="input-row">
                                <div class="input-group">
                                    <label for="produto">Produto/Serviço</label>
                                    <input type="text" id="produto" name="produto" placeholder="Ex: Curso Online de Marketing">
                                </div>
                                <div class="input-group">
                                    <label for="preco">Preço (R$)</label>
                                    <input type="number" id="preco" name="preco" step="0.01" placeholder="997.00">
                                </div>
                            </div>
                            <div class="input-group">
                                <label for="publico">Público-Alvo</label>
                                <textarea id="publico" name="publico" rows="3" placeholder="Descreva o seu cliente ideal: idade, interesses, profissão..."></textarea>
                            </div>
                        </div>

                        <div class="form-group">
                            <h3 class="section-title"><i class="fas fa-paperclip"></i>Anexos (Opcional)</h3>
                             <div class="upload-area" id="uploadArea">
                                <div class="upload-content">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <h4>Arraste ficheiros para aqui ou clique para selecionar</h4>
                                    <p>PDF, DOCX, TXT. Use para fornecer contexto adicional.</p>
                                    <input type="file" id="fileInput" multiple accept=".pdf,.docx,.txt">
                                </div>
                            </div>
                            <div class="uploaded-files" id="uploadedFilesContainer"></div>
                        </div>

                        <div class="form-group">
                             <h3 class="section-title"><i class="fas fa-cogs"></i>Detalhes Adicionais</h3>
                             <div class="input-group">
                                <label for="concorrentes">Principais Concorrentes</label>
                                <input type="text" id="concorrentes" name="concorrentes" placeholder="Liste 2 ou 3 concorrentes diretos">
                            </div>
                            <div class="input-group">
                                <label for="query">Tópico de Pesquisa Web (Opcional)</label>
                                <input type="text" id="query" name="query" placeholder="Deixe em branco para a IA gerar a melhor consulta">
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn-primary" id="analyzeBtn">
                                <i class="fas fa-rocket"></i>
                                <span>Gerar Análise Completa</span>
                            </button>
                        </div>
                    </form>
                </div>
            </section>

            <section class="progress-section" id="progressArea" style="display: none;">
                <div class="progress-container">
                    <div class="progress-header">
                        <h3>Análise em Progresso...</h3>
                        <p id="progressStatusText">A recolher e processar dados. Por favor, aguarde.</p>
                    </div>
                    <div class="progress-bar-container">
                        <div class="progress-bar">
                            <div id="progressBarFill" class="progress-fill" style="width: 0%;"></div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="results-section" id="resultsArea" style="display: none;">
                <div class="results-container">
                    <div class="results-header">
                        <h3><i class="fas fa-chart-bar"></i>Relatório de Análise Estratégica</h3>
                        <div class="results-actions">
                            <button class="btn-secondary" id="downloadPdfBtn" style="display: none;">
                                <i class="fas fa-file-pdf"></i> Download PDF
                            </button>
                            <button class="btn-secondary" onclick="window.location.reload()">
                                <i class="fas fa-plus"></i> Nova Análise
                            </button>
                        </div>
                    </div>
                    <div class="results-content" id="resultsContent">
                        <!-- O conteúdo dos resultados será inserido aqui via JavaScript -->
                    </div>
                </div>
            </section>
        </div>
    </main>
    
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/upload.js') }}"></script>
    <script src="{{ url_for('static', filename='js/analysis.js') }}"></script>
</body>
</html>
